# Final scoring rubric.
# This file takes the PASS/PARTIAL/FAIL output from the analyzer (rubric.yaml)
# and maps it to the final weighted score categories.
# It is designed to be "junior-aware," meaning PARTIAL and non-critical FAILs
# are not punished excessively.

criteria:
  - id: readme_detail
    name: "README Exists and is Well Detailed"
    weight: 1
    prompt: |
      You are grading a BEGINNER project's documentation.
      Use the analyzer checks R2.1 (README) and R2.2 (Dependencies).
      
      Heuristics:
        - R2.1: PASS (all 3 elements) AND R2.2: PASS (reqs file) => 0.9–1.0
        - R2.1: PASS but R2.2: FAIL => 0.7–0.8 (Good docs, but missed a key setup file)
        - R2.1: FAIL (missing elements) => 0.2–0.4 (README exists but is poor)
        - R2.1: Not found / completely empty => 0.0

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Concise reason referencing R2.1 and R2.2 results>

  - id: code_quality
    name: "Code is Clean, Readable and Well Structured"
    weight: 4
    prompt: |
      You are grading a BEGINNER project's code quality (0-4 pt scale, so 0.0-1.0).
      Use checks R3.1 (Clean Code), R3.2 (Security), R3.3 (.gitignore), R3.4 (.env.example).
      R3.1 is the most important check.
      
      Heuristics:
        - R3.1: PASS + R3.2: PASS + R3.3: PASS => 3.5–4.0 (Excellent structure)
        - R3.1: PASS + one or two FAILs on others => 3.0–3.5 (Core code is good, misses setup)
        - R3.1: PARTIAL + other checks are PASS/PARTIAL => 2.0–2.9 (Average beginner code)
        - R3.1: PARTIAL + FAILs on R3.2/R3.3 => 1.0–1.9 (Struggling with structure)
        - R3.1: FAIL => 0.0–0.9 (Core code is hard to follow)

      Allowed values: 0.0, 0.1, ..., 4.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Reason referencing R3.1, R3.2, R3.3, and R3.4>

  - id: git_usage
    name: "Git Properly Used"
    weight: 1
    prompt: |
      You are grading a BEGINNER project's Git usage.
      Use the single analyzer check R4.1 (Git history).
      
      Heuristics:
        - R4.1: PASS (Good count + good messages) => 0.8–1.0
        - R4.1: PARTIAL (e.g., good count, bad messages) => 0.5–0.6
        - R4.1: FAIL (e.g., <=3 commits AND bad messages) => 0.0–0.2

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Reason based on R4.1 PASS/PARTIAL/FAIL status>

  - id: original_idea
    name: "Original Idea"
    weight: 1
    prompt: |
      You are grading a BEGINNER project's originality.
      Use the analyzer check R5.1 (Original concept). Be generous.
      
      Heuristics:
        - R5.1: PASS (Appears original) => 0.9–1.0
        - R5.1: FAIL (Direct tutorial clone) => 0.0–0.2

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Reason based on R5.1 PASS/FAIL status>

  - id: error_handling
    name: "Proper Error Handling"
    weight: 1
    prompt: |
      You are grading a BEGINNER project's error handling.
      Use the analyzer check R7.1 (Basic error handling).
      
      Heuristics:
        - R7.1: PASS (try/except, .is_valid(), etc. present) => 0.8–1.0
        - R7.1: FAIL (No visible error handling) => 0.0–0.3

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Reason based on R7.1 PASS/FAIL status>

  - id: api_docs
    name: "Provided API Documentation"
    weight: 1
    prompt: |
      You are grading a BEGINNER project's API documentation.
      Use the analyzer check R8.1 (API Documentation).
      
      Heuristics:
        - R8.1: PASS (README section or Swagger/Redoc found) => 0.9–1.0
        - R8.1: FAIL (No API docs found) => 0.0–0.2

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Reason based on R8.1 PASS/FAIL status>

  - id: features_work
    name: "Features Work as Intended"
    weight: 1
    prompt: |
      You are grading a BEGINNER project. Use ONLY analyzer output totals to INFER if features work.
      This is a heuristic guess based on project health.
      
      Heuristics (junior-friendly):
        - Majority PASS (>50% of all checks) + few FAILs => 0.7–0.9 (Assume core features run).
        - Mix of PASS/PARTIAL/FAIL, no critical FAILs (e.g., R3.1 not FAIL) => 0.5–0.6 (Probably has some working parts).
        - Several critical FAILs (e.g., R3.1: FAIL or R3.2: FAIL) => 0.2–0.4 (Unlikely to run).
        - Overwhelming FAIL signals => 0.0–0.1 (Definitely broken).
        - If evidence thin but not negative: default to 0.5.

      Allowed values: 0.0, 0.1, ..., 1.0 (step 0.1)
      Output strictly two lines:
      SCORE: <value>
      JUSTIFICATION: <Concise reason referencing overall PASS/PARTIAL/FAIL counts>